{
  "openapi": "3.0.1",
  "info": {
    "title": "eFactura API Suite",
    "description": "A comprehensive suite of APIs for eFactura operations, including XML signature validation, message status retrieval, message listing, invoice upload and download, and XML to PDF transformation.",
    "version": "1.0"
  },
  "tags": [
    {
      "name": "XML Signature Validation",
      "description": "API for validating electronic signatures on electronic invoices."
    },
    {
      "name": "EFactura Message Status",
      "description": "API for retrieving the processing status of electronic invoice messages."
    },
    {
      "name": "EFactura Message List",
      "description": "API for listing electronic invoice messages with various filtering options."
    },
    {
      "name": "EFactura Upload",
      "description": "API for uploading electronic invoice XML files."
    },
    {
      "name": "eFactura Download",
      "description": "Descarcare factura API"
    },
    {
      "name": "EFactura Validation",
      "description": "EFactura Validare API"
    },
    {
      "name": "EFacturaXmlToPdf",
      "description": "EFactura XmlToPdf API"
    }
  ],
  "paths": {
    "/api/validate/signature": {
      "post": {
        "tags": [
          "XML Signature Validation"
        ],
        "summary": "Validează semnătura electronică",
        "description": "Validează o semnătură electronică de tip 'detached' pentru un fișier XML",
        "operationId": "validateSignature",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "required": [
                  "file",
                  "signature"
                ],
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "description": "Fișierul XML care a fost semnat",
                    "format": "binary"
                  },
                  "signature": {
                    "type": "string",
                    "description": "Fișierul semnătură electronică de tip 'detached'",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Validare / Nevalidare fișiere încărcate",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "msg": {
                      "type": "string"
                    }
                  }
                },
                "examples": {
                  "Validare fisiere incarcate": {
                    "description": "Validare fisiere incarcate",
                    "value": {
                      "msg": "Fișierele încărcate au fost validate cu succes, din perspectiva autenticității semnăturii aplicate și a apartenenței acesteia la XML-ul ce reprezintă factura electronică. Documentul factură de tip XML cu semnătura de validare atașată, este considerat document original din perspectiva legislativă și este generat prin intermediul sistemului național RO e-Factura."
                    }
                  },
                  "Nevalidare fisiere incarcate": {
                    "description": "Nevalidare fisiere incarcate",
                    "value": {
                      "msg": "Fișierele încărcate NU au putut fi validate cu succes, din perspectiva autenticității semnăturii aplicate și a apartenenței acesteia la XML-ul ce reprezintă factura electronică. Documentul factură de tip XML cu semnătura de validare atașată, NU poate fi considerat document original din perspectiva legislativă și NU este generat prin intermediul sistemului național RO e-Factura."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Eroare tehnică validare",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "msg": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "msg": "Eroare tehnică: request incorect. Cauza: cel puțin unul din documente NU a fost încărcat sau NU este un fisier de tip XML specific facturii electronice."
                }
              }
            }
          }
        }
      }
    },
    "/stareMesaj": {
      "get": {
        "tags": [
          "EFactura Message Status"
        ],
        "operationId": "getStareMesaj",
        "parameters": [
          {
            "name": "id_incarcare",
            "in": "query",
            "description": "Index de incarcare al facturii",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": 18
          }
        ],
        "responses": {
          "400": {
            "description": "Solicitare incorecta",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GeneralErrorMessage"
                },
                "examples": {
                  "nu ati completat parametrul id_incarcare": {
                    "summary": "lipsa id_incarcare",
                    "description": "nu ati completat parametrul id_incarcare",
                    "value": {
                      "timestamp": "19-08-2021 11:01:56",
                      "status": 400,
                      "error": "Bad Request",
                      "message": "Parametrul id_incarcare este obligatoriu"
                    }
                  }
                }
              }
            }
          },
          "200": {
            "description": "Operatie realizata cu succes",
            "content": {
              "application/xml": {
                "schema": {
                  "$ref": "#/components/schemas/EfacturaXmlHeader"
                },
                "examples": {
                  "factura a fost prelucrata cu succes": {
                    "summary": "prelucrare cu succes",
                    "description": "factura a fost prelucrata cu succes",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n<header xmlns=\"mfp:anaf:dgti:efactura:stareMesajFactura:v1\" stare=\"ok\" id_descarcare=\"1234\"/>"
                  },
                  "factura nu a fost prelucrata cu succes": {
                    "summary": "prelucrare esuata",
                    "description": "factura nu a fost prelucrata cu succes",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n<header xmlns=\"mfp:anaf:dgti:efactura:stareMesajFactura:v1\" stare=\"nok\" id_descarcare=\"123\"/>"
                  },
                  "factura in prelucrare": {
                    "summary": "in prelucrare",
                    "description": "factura in prelucrare",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n<header xmlns=\"mfp:anaf:dgti:efactura:stareMesajFactura:v1\" stare=\"in prelucrare\"/>"
                  },
                  "factura nu a fost preluata de sistem": {
                    "summary": "XML eronat",
                    "description": "factura nu a fost preluata de sistem",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:efactura:stareMesajFactura:v1\" stare=\"XML cu erori nepreluat de sistem\"/>"
                  },
                  "nu aveti dreptul de interogare pentru indexul solicitat": {
                    "summary": "lipsa drepturi index",
                    "description": "nu aveti dreptul de interogare pentru indexul solicitat",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n<header xmlns=\"mfp:anaf:dgti:efactura:stareMesajFactura:v1\">\n    <Errors errorMessage=\"Nu aveti dreptul de inteorgare pentru id_incarcare= 18\"/>\n</header>"
                  },
                  "nu aveti dreptul de interogare": {
                    "summary": "lipsa drepturi",
                    "description": "nu aveti dreptul de interogare",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:efactura:stareMesajFactura:v1\">\r\n    <Errors errorMessage=\"Nu exista niciun CIF petru care sa aveti drept\"/>\r\n</header>"
                  },
                  "index de incarcare nu este valid": {
                    "summary": "index invalid",
                    "description": "index de incarcare nu este valid",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:efactura:stareMesajFactura:v1\">\r\n    <Errors errorMessage=\"Id_incarcare introdus= aaa nu este un numar intreg\"/>\r\n</header>"
                  },
                  "factura nu a fost identificata in sistem": {
                    "summary": "factura inexistenta",
                    "description": "factura nu a fost identificata in sistem",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n<header xmlns=\"mfp:anaf:dgti:efactura:stareMesajFactura:v1\">\n    <Errors errorMessage=\"Nu exista factura cu id_incarcare= 15000\"/>\n</header>"
                  },
                  "a fost atinsa limita de apeluri zilnice": {
                    "summary": "limita apeluri zilnice atinsa",
                    "description": "a fost atinsa limita de apeluri zilnice",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:efactura:stareMesajFactura:v1\">\r\n    <Errors errorMessage=\"S-au facut deja 20 descarcari de mesaj in cursul zilei\"/>\r\n</header>"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/listaMesajePaginatieFactura": {
      "get": {
        "tags": [
          "EFactura Message List"
        ],
        "operationId": "getPaginatie",
        "parameters": [
          {
            "name": "startTime",
            "in": "query",
            "description": "Data de start a intervalului interogat. Este in format Unix Time exprimat in milisecunde [1646037374000 = 28.02.2022 10:36:14]",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": 1646037374000
          },
          {
            "name": "endTime",
            "in": "query",
            "description": "Data de final a intervalului interogat. Este in format Unix Time exprimat in milisecunde [1646170574000 = 01.03.2022 23:36:14]",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": 1646170574000
          },
          {
            "name": "cif",
            "in": "query",
            "description": "CIF",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": 8000000000
          },
          {
            "name": "pagina",
            "in": "query",
            "description": "Pagina curenta ",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": 1
          },
          {
            "name": "filtru",
            "in": "query",
            "description": "Folosit pentru filtrarea mesajelor. Parametrul poate sa lipseasca caz in care se intoarce toata lista de mesaje. Daca este prezent valoarile acceptate sunt E,P,T sau R",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "E"
          }
        ],
        "responses": {
          "500": {
            "description": "Internal Server Error",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GeneralErrorMessage"
                }
              }
            }
          },
          "400": {
            "description": "Response code 400",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GeneralErrorMessage"
                },
                "examples": {
                  "lipsa startTime, endTime, cif sau pagina": {
                    "description": "Parametrii startTime, endTime, cif si pagina sunt obligatorii",
                    "value": {
                      "timestamp": "19-08-2021 11:59:29",
                      "status": 400,
                      "error": "Bad Request",
                      "message": "Parametrii startTime, endTime, cif si pagina sunt obligatorii"
                    }
                  },
                  "cif este non numeric": {
                    "description": "cif non-numeric",
                    "value": {
                      "eroare": "CIF introdus= aaa nu este un numar sau nu are o valoare acceptata de sistem",
                      "titlu": "Lista Mesaje"
                    }
                  },
                  "startTime nu este un numar sau nu are o valoare acceptata de sistem": {
                    "description": "startTime non-numeric",
                    "value": {
                      "eroare": "startTime = aaa nu este un numar sau nu are o valoare acceptata de sistem",
                      "titlu": "Lista Mesaje"
                    }
                  },
                  "endTime nu este un numar sau nu are o valoare acceptata de sistem": {
                    "description": "endTime non-numeric",
                    "value": {
                      "eroare": "endTime = aaa nu este un numar sau nu are o valoare acceptata de sistem",
                      "titlu": "Lista Mesaje"
                    }
                  },
                  "pagina nu este un numar sau nu are o valoare acceptata de sistem": {
                    "description": "pagina non-numeric",
                    "value": {
                      "eroare": "pagina = aa nu este un numar sau nu are o valoare acceptata de sistem",
                      "titlu": "Lista Mesaje"
                    }
                  },
                  "startTime mai vechi de 60 de zile": {
                    "description": "startTime mai vechi de 60 de zile",
                    "value": {
                      "eroare": "startTime = 09-07-2022 10:41:11 nu poate fi mai vechi de 60 de zile fata de momentul requestului",
                      "titlu": "Lista Mesaje"
                    }
                  },
                  "endTime inainte de startTime": {
                    "description": "endTime nu poate fi inainte de startTime",
                    "value": {
                      "eroare": "endTime = 09-08-2022 10:41:11 nu poate fi <= startTime = 06-09-2022 09:48:20",
                      "titlu": "Lista Mesaje"
                    }
                  },
                  "endTime in viitor": {
                    "description": "endTime nu poate fi o data din viitor",
                    "value": {
                      "eroare": "endTime = 02-12-2022 11:49:24 nu poate in viitor fata de momentul requestului",
                      "titlu": "Lista Mesaje"
                    }
                  },
                  "parametrul filtru invalid": {
                    "description": "parametrul filtru este completat dar este invalid",
                    "value": {
                      "eroare": "Valorile acceptate pentru parametrul filtru sunt E, T, P sau R",
                      "titlu": "Lista Mesaje"
                    }
                  },
                  "nu aveti drept pentru acest cif": {
                    "description": "cif fara drept",
                    "value": {
                      "eroare": "Nu aveti drept in SPV pentru CIF=8000000000",
                      "titlu": "Lista Mesaje"
                    }
                  },
                  "lipsa drepturi SPV": {
                    "description": "nu aveti drepturi in SPV pentru nici un cif",
                    "value": {
                      "eroare": "Nu exista niciun CIF pentru care sa aveti drept in SPV",
                      "titlu": "Lista Mesaje"
                    }
                  },
                  "paginia mai mare decat total pagini": {
                    "description": "pagina solicitata depaseste numarul total de pagini",
                    "value": {
                      "eroare": "Pagina solicitata 50 este mai mare decat numarul toatal de pagini 29",
                      "titlu": "Lista Mesaje"
                    }
                  },
                  "nu exista mesaje": {
                    "description": "nu exista mesaje in intervalul mentionat ",
                    "value": {
                      "eroare": "Nu exista mesaje in intervalul selectat",
                      "titlu": "Lista Mesaje"
                    }
                  },
                  "limita apeluri zilnice atinsa": {
                    "description": "a fost atinsa limita de apeluri zilnice",
                    "value": {
                      "eroare": "S-au facut deja 1000 interogari de lista mesaje de catre utilizator in cursul zilei",
                      "titlu": "Lista Mesaje"
                    }
                  }
                }
              }
            }
          },
          "200": {
            "description": "Response code 200",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mesaje": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/EfacturaDetailedMessage"
                      }
                    },
                    "numar_inregistrari_in_pagina": {
                      "type": "integer"
                    },
                    "numar_total_inregistrari_per_pagina": {
                      "type": "integer"
                    },
                    "numar_total_inregistrari": {
                      "type": "integer"
                    },
                    "numar_total_pagini": {
                      "type": "integer"
                    },
                    "index_pagina_curenta": {
                      "type": "integer"
                    },
                    "serial": {
                      "type": "string"
                    },
                    "cui": {
                      "type": "string"
                    },
                    "titlu": {
                      "type": "string"
                    }
                  }
                },
                "examples": {
                  "cif-ul returneaza mesaje": {
                    "description": "a fost intoarsa lista de mesaje",
                    "value": {
                      "mesaje": [
                        {
                          "data_creare": "202210311452",
                          "cif": "8000000000",
                          "id_solicitare": "5001120362",
                          "detalii": "Erori de validare identificate la factura primita cu id_incarcare=5001120362",
                          "tip": "ERORI FACTURA",
                          "id": "3001474425"
                        },
                        {
                          "data_creare": "202210311452",
                          "cif": "8000000000",
                          "id_solicitare": "5001120366",
                          "detalii": "Erori de validare identificate la factura primita cu id_incarcare=5001120366",
                          "tip": "ERORI FACTURA",
                          "id": "3001474424"
                        }
                      ],
                      "numar_inregistrari_in_pagina": 2,
                      "numar_total_inregistrari_per_pagina": 500,
                      "numar_total_inregistrari": 14130,
                      "numar_total_pagini": 29,
                      "index_pagina_curenta": 29,
                      "serial": "1234AA456",
                      "cui": "8000000000",
                      "titlu": "Lista Mesaje disponibile din intervalul 06-09-2022 09:48:20 - 02-11-2022 11:49:24"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/listaMesajeFactura": {
      "get": {
        "tags": [
          "EFactura Message List"
        ],
        "operationId": "getListaMesaje",
        "parameters": [
          {
            "name": "zile",
            "in": "query",
            "description": "Numarul de zile pentru care se face interogarea. Valoarea este 1 si 60",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": 50
          },
          {
            "name": "cif",
            "in": "query",
            "description": "CIF",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": 8000000000
          },
          {
            "name": "filtru",
            "in": "query",
            "description": "Folosit pentru filtrarea mesajelor. Parametrul poate sa lipseasca caz in care se intoarce toata lista de mesaje. Daca este prezent valoarile acceptate sunt E,P,T sau R",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "E"
          }
        ],
        "responses": {
          "500": {
            "description": "Internal Server Error",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GeneralErrorMessage"
                }
              }
            }
          },
          "400": {
            "description": "Response code 400",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GeneralErrorMessage"
                },
                "examples": {
                  "lipsa zile sau cif": {
                    "description": "Nu ati completat parametrii zile sau cif",
                    "value": {
                      "timestamp": "19-08-2021 11:59:29",
                      "status": 400,
                      "error": "Bad Request",
                      "message": "Parametrii zile si cif sunt obligatorii"
                    }
                  }
                }
              }
            }
          },
          "200": {
            "description": "Response code 200",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mesaje": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/EfacturaDetailedMessage"
                      }
                    },
                    "serial": {
                      "type": "string"
                    },
                    "cui": {
                      "type": "string"
                    },
                    "titlu": {
                      "type": "string"
                    }
                  }
                },
                "examples": {
                  "cif-ul returneaza mesaje": {
                    "description": "a fost intoarsa lista de mesaje",
                    "value": {
                      "mesaje": [
                        {
                          "data_creare": "202211011415",
                          "cif": "8000000000",
                          "id_solicitare": "5001130147",
                          "detalii": "Erori de validare identificate la factura primita cu id_incarcare=5001130147",
                          "tip": "ERORI FACTURA",
                          "id": "3001293434"
                        },
                        {
                          "data_creare": "202211011336",
                          "cif": "8000000000",
                          "id_solicitare": "5001131297",
                          "detalii": "Factura cu id_incarcare=5001131297 emisa de cif_emitent=8000000000 pentru cif_beneficiar=3",
                          "tip": "FACTURA TRIMISA",
                          "id": "3001503294"
                        }
                      ],
                      "serial": "1234AA456",
                      "cui": "8000000000",
                      "titlu": "Lista Mesaje disponibile din ultimele 1 zile"
                    }
                  },
                  "cif este non numeric": {
                    "description": "cif non-numeric",
                    "value": {
                      "eroare": "CIF introdus= aaa nu este un numar",
                      "titlu": "Lista Mesaje"
                    }
                  },
                  "numar de zile este non numeric": {
                    "description": "numar de zile non-numeric",
                    "value": {
                      "eroare": "Numarul de zile introdus= aaa nu este un numar intreg",
                      "titlu": "Lista Mesaje"
                    }
                  },
                  "numar de zile incorect": {
                    "description": "parametrul zile nu este intre 1 si 60",
                    "value": {
                      "eroare": "Numarul de zile trebuie sa fie intre 1 si 60",
                      "titlu": "Lista Mesaje"
                    }
                  },
                  "parametrul filtru invalid": {
                    "description": "parametrul filtru este completat dar este invalid",
                    "value": {
                      "eroare": "Valorile acceptate pentru parametrul filtru sunt E, T, P sau R",
                      "titlu": "Lista Mesaje"
                    }
                  },
                  "nu aveti drept pentru acest cif": {
                    "description": "cif fara drept",
                    "value": {
                      "eroare": "Nu aveti drept in SPV pentru CIF=8000000000",
                      "titlu": "Lista Mesaje"
                    }
                  },
                  "lipsa drepturi SPV": {
                    "description": "nu aveti drepturi in SPV pentru nici un cif",
                    "value": {
                      "eroare": "Nu exista niciun CIF pentru care sa aveti drept in SPV",
                      "titlu": "Lista Mesaje"
                    }
                  },
                  "nu exista mesaje": {
                    "description": "nu exista mesaje in intervalul de zile mentionat",
                    "value": {
                      "eroare": "Nu exista mesaje in ultimele 15 zile",
                      "titlu": "Lista Mesaje"
                    }
                  },
                  "limita mesaje in pagina atinsa": {
                    "description": "a fost atinsa limita de mesaje in pagina",
                    "value": {
                      "eroare": "Lista de mesaje este mai mare decat numarul de 500 elemente permise in pagina. Folositi endpoint-ul cu paginatie.",
                      "titlu": "Lista Mesaje"
                    }
                  },
                  "limita apeluri zilnice atinsa": {
                    "description": "a fost atinsa limita de apeluri zilnice",
                    "value": {
                      "eroare": "S-au facut deja 1000 interogari de lista mesaje de catre utilizator in cursul zilei",
                      "titlu": "Lista Mesaje"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/descarcare": {
      "get": {
        "tags": [
          "eFactura Download"
        ],
        "operationId": "getDescarcare",
        "parameters": [
          {
            "name": "id",
            "in": "query",
            "description": "Specifica indexul de descarcare al facturii",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": 1
          }
        ],
        "responses": {
          "400": {
            "description": "Solicitare incorecta",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GeneralErrorMessage"
                },
                "examples": {
                  "nu ati completat parametrul standard": {
                    "summary": "lipsa parametru standard",
                    "description": "nu ati completat parametrul standard",
                    "value": {
                      "timestamp": "05-08-2021 12:04:01",
                      "status": 400,
                      "error": "Bad Request",
                      "message": "Parametrul id este obligatoriu"
                    }
                  }
                }
              }
            }
          },
          "200": {
            "description": "Operatie realizata cu succes",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                },
                "examples": {
                  "factura a fost descarcata cu succes": {
                    "summary": "descarcare cu succes",
                    "description": "factura a fost descarcata cu succes",
                    "value": "fisier cu extensia zip. ex: 123.zip"
                  },
                  "id-ul furnizat nu este valid": {
                    "summary": "id invalid",
                    "description": "id-ul furnizat nu este valid",
                    "value": {
                      "eroare": "Id descarcare introdus= 123a nu este un numar intreg",
                      "titlu": "Descarcare mesaj"
                    }
                  },
                  "a fost atinsa limita de apeluri zilnice": {
                    "summary": "limita apeluri zilnice atinsa",
                    "description": "a fost atinsa limita de apeluri zilnice",
                    "value": "{\"eroare\":\"S-au facut deja 10 descarcari de mesaj in cursul zilei\",\"titlu\":\"Descarcare mesaj\"}"
                  },
                  "nu aveti dreptul sa descarcati factura cu id-ul mentionat in request": {
                    "summary": "certificat fara drepturi",
                    "description": "nu aveti dreptul sa descarcati factura cu id-ul mentionat in request",
                    "value": {
                      "eroare": "Nu aveti dreptul sa descarcati acesta factura",
                      "titlu": "Descarcare mesaj"
                    }
                  },
                  "nu exista nici o factura pentru id-ul solicitat": {
                    "summary": "id fara factura",
                    "description": "nu exista nici o factura pentru id-ul solicitat",
                    "value": {
                      "eroare": "Pentru id=21 nu exista inregistrata nici o factura",
                      "titlu": "Descarcare mesaj"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/validare/{standard}": {
      "post": {
        "tags": [
          "EFactura Validation"
        ],
        "summary": "Validare XML",
        "operationId": "validare",
        "parameters": [
          {
            "name": "standard",
            "in": "path",
            "description": "Specifica tipul xml-ului ce trebuie transmis. Valorile acceptate sunt FACT1 si FCN.",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "FACT1"
          }
        ],
        "requestBody": {
          "description": "Continutul fisierul xml",
          "content": {
            "text/plain": {
              "schema": {
                "type": "string"
              },
              "examples": {
                "FACT1": {
                  "description": "structura xml pentru FACT1",
                  "value": ""
                },
                "FCN": {
                  "description": "structura xml pentru FCN",
                  "value": ""
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Response code 200",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EfacturaResponseHeader"
                },
                "examples": {
                  "validare succes": {
                    "description": "xml-ul a trecut cu succes de validare",
                    "value": {
                      "stare": "ok",
                      "trace_id": "c8c9da20-843f-4130-91d1-4ee8b0baaa30"
                    }
                  },
                  "validare esuata": {
                    "description": "sunt erori in continutul xml-ului",
                    "value": {
                      "stare": "nok",
                      "Messages": [
                        {
                          "message": "E: validari globale  SCHEMATRON   eroare: [BR-CO-09]-The Seller VAT identifier (BT-31), the Seller tax representative VAT identifier (BT-63) and the Buyer VAT identifier (BT-48) shall have a prefix in accordance with ISO code ISO 3166-1 alpha-2 by which the country of issue may be identified. Nevertheless, Greece may use the prefix ‘EL’."
                        },
                        {
                          "message": "E: validari globale  SCHEMATRON   eroare: [BR-RO-110]-Daca Codul ţării vânzătorului (BT-40) este  RO , atunci Subdiviziunea ţării vânzătorului (BT-39) trebuie să fie codificată folosind lista de coduri ISO 3166-2:RO (ex.  RO-B  pentru Municipiul Bucuresti,  RO-AB  pentru judetul Alba...).     #If the Seller's country Code (BT-40) is  RO , then the Seller's country subdivision (BT-39) must be coded using the ISO 3166-2: RO code list (ex.  RO-B  for Bucharest,  RO-AB  for Alba County...)."
                        },
                        {
                          "message": "E: AccountingSupplierParty (1) sectiune Party (1) sectiune PartyTaxScheme (1) sectiune CompanyID (1)  eroare regula: R_BT_32_cui: Cui vanzator incorect / validare CUI (1234) "
                        }
                      ],
                      "trace_id": "2c9b28f2-be33-4d55-a6ac-f5f5fed01e67"
                    }
                  },
                  "standard invalid": {
                    "description": "nu a fost specificat un standard bun",
                    "value": {
                      "stare": "nok",
                      "Messages": [
                        {
                          "message": "Valorile acceptate pentru parametrul standard sunt FACT1 si FCN"
                        }
                      ],
                      "trace_id": "4506b709-92d1-4efe-b286-e652624ba2fb"
                    }
                  },
                  "dimensiune prea mare": {
                    "description": "dimensiunea fisierului incarcat nu trebuie sa depaseasca 5MB",
                    "value": {
                      "stare": "nok",
                      "Messages": [
                        {
                          "message": "Marime fisier transmis mai mare de 5 MB."
                        }
                      ],
                      "trace_id": "1ce79035-758e-4454-b811-d1c0a04aedc2"
                    }
                  },
                  "eroare tehica": {
                    "description": "din motive tehnice requestul nu a putut fi procesat",
                    "value": {
                      "stare": "nok",
                      "Messages": [
                        {
                          "message": "A aparut o eroare tehnica. Cod: XXX"
                        }
                      ],
                      "trace_id": "ee2f572d-5b0c-4975-89be-6b93e1e31bc0"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Response code 404",
            "content": {
              "application/json": {
                "examples": {
                  "request invalid": {
                    "description": "nu ati construit corect calea de context (lipsa variabila standard)",
                    "value": {
                      "timestamp": "2022-09-07T12:33:24.284+00:00",
                      "status": 404,
                      "error": "Not Found",
                      "path": "/FCTEL/rest/validare/"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/uploadb2c": {
      "post": {
        "tags": [
          "EFactura Upload"
        ],
        "operationId": "handleRequestb2c",
        "parameters": [
          {
            "name": "standard",
            "in": "query",
            "description": "Specifica tipul xml-ului ce trebuie transmis. Valorile acceptate sunt UBL, CN, CII sau RASP",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "UBL"
          },
          {
            "name": "cif",
            "in": "query",
            "description": "Specifica CIF-ul la care va ajunge eroarea in cazul in care nu se poate identifica vanzatorul in XML-ul facturii",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": 8000000000
          },
          {
            "name": "extern",
            "in": "query",
            "description": "Folosit doar daca cumparatorul nu este din ROMANIA. Parametrul poate sa lipseasca, iar valoare acceptata este DA",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "DA"
          },
          {
            "name": "autofactura",
            "in": "query",
            "description": "Folosit doar daca se emite factura de catre beneficiar in numele furnizorului. Parametrul poate sa lipseasca, iar valoare acceptata este DA",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "DA"
          },
          {
            "name": "executare",
            "in": "query",
            "description": "Folosit de catre organul de executare pentru depunerea facturii in numele debitorului. Parametrul poate sa lipseasca, iar valoare acceptata este DA",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "DA"
          }
        ],
        "requestBody": {
          "description": "Trebuie atasat un fisier de tip xml",
          "content": {
            "*/*": {
              "schema": {
                "type": "string"
              },
              "examples": {
                "structura xml pentru UBL": {
                  "summary": "UBL",
                  "description": "structura xml pentru UBL",
                  "value": ""
                },
                "structura xml pentru CN": {
                  "summary": "CN",
                  "description": "structura xml pentru CN",
                  "value": ""
                },
                "structura xml pentru CII": {
                  "summary": "CII",
                  "description": "structura xml pentru CII",
                  "value": ""
                },
                "structura xml pentru RASP": {
                  "summary": "RASP",
                  "description": "structura xml pentru RASP",
                  "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:reqMesaj:v1\" index_incarcare=\"191823\" message=\"mesaj de test, standard RASP\"/>"
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Operatie realizata cu succes",
            "content": {
              "application/xml": {
                "schema": {
                  "$ref": "#/components/schemas/EfacturaXmlHeader"
                },
                "examples": {
                  "factura a fost incarcata cu succes": {
                    "summary": "depunere cu succes",
                    "description": "factura a fost incarcata cu succes",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202108051140\" ExecutionStatus=\"0\" index_incarcare=\"3828\"/>"
                  },
                  "nu a fost specificat un standard bun": {
                    "summary": "standard invalid",
                    "description": "nu a fost specificat un standard bun",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202108051144\" ExecutionStatus=\"1\">\r\n    <Errors errorMessage=\"Valorile acceptate pentru parametrul standard sunt UBL, CN, CII sau RASP\"/>\r\n</header>"
                  },
                  "marimea fisierului estre prea mare": {
                    "summary": "dimensiune fisier prea mare",
                    "description": "marimea fisierului estre prea mare",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202108051144\" ExecutionStatus=\"1\">\r\n    <Errors errorMessage=\"Marime fisier transmis mai mare de 10 MB.\"/>\r\n</header>"
                  },
                  "cif-ul trebuie sa fie numeric": {
                    "summary": "cif invalid",
                    "description": "cif-ul trebuie sa fie numeric",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202210121019\" ExecutionStatus=\"1\">\r\n    <Errors errorMessage=\"CIF introdus= 123a nu este un numar\"/>\r\n</header>"
                  },
                  "nu aveti dreptul de incarcare": {
                    "summary": "lispsa drepturi",
                    "description": "nu aveti dreptul de incarcare",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202210121036\" ExecutionStatus=\"1\">\r\n    <Errors errorMessage=\"Nu exista niciun CIF pentru care sa aveti drept in SPV\"/>\r\n</header>"
                  },
                  "nu aveti dreptul de incarcare pentru cif-ul specificat in request": {
                    "summary": "lispsa drepturi cif",
                    "description": "nu aveti dreptul de incarcare pentru cif-ul specificat in request",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202210121034\" ExecutionStatus=\"1\">\r\n    <Errors errorMessage=\"Nu aveti drept in SPV pentru CIF=1234\"/>\r\n</header>"
                  },
                  "fisierul transmis nu respecta structura UBL sau CII": {
                    "summary": "fisier transmis invalid",
                    "description": "fisierul transmis nu respecta structura UBL sau CII",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202108051144\" ExecutionStatus=\"1\">\r\n    <Errors errorMessage=\"Fisierul transmis nu este valid. org.xml.sax.SAXParseException; lineNumber: 15; columnNumber: 155; cvc-elt.1.a: Cannot find the declaration of element 'Invoice1'. \"/>\r\n</header>"
                  },
                  "parametrul extern este completat dar este invalid": {
                    "summary": "parametrul extern invalid",
                    "description": "parametrul extern este completat dar este invalid",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202407041615\" ExecutionStatus=\"1\">\r\n    <Errors errorMessage=\"Daca parametrul extern trebuie completat, valoarea acceptata este DA\"/>\r\n</header>"
                  },
                  "parametrul autofactura este completat dar este invalid": {
                    "summary": "parametrul autofactura invalid",
                    "description": "parametrul autofactura este completat dar este invalid",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202401260957\" ExecutionStatus=\"1\">\r\n    <Errors errorMessage=\"Daca parametrul autofacturare trebuie completat, valoarea acceptata este DA\"/>\r\n</header>"
                  },
                  "parametrul executare este completat dar este invalid": {
                    "summary": "parametrul executare invalid",
                    "description": "parametrul executare este completat dar este invalid",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202408041615\" ExecutionStatus=\"1\">\r\n    <Errors errorMessage=\"Daca parametrul executare trebuie completat, valoarea acceptata este DA\"/>\r\n</header>"
                  },
                  "parametrul executare este completat dar cif-ul nu este inregistrat in Registrul RO e-Factura executari silite": {
                    "summary": "parametrul executare=DA, cif nu apare in Registrul RO e-Factura executari silite",
                    "description": "parametrul executare este completat dar cif-ul nu este inregistrat in Registrul RO e-Factura executari silite",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202408071704\" ExecutionStatus=\"1\">\r\n    <Errors errorMessage=\"CIF introdus= 1234 nu este inregistrat in Registrul RO e-Factura executari silite\"/>\r\n</header>"
                  },
                  "a fost atinsa limita de apeluri zilnice": {
                    "summary": "limita apeluri zilnice atinsa",
                    "description": "a fost atinsa limita de apeluri zilnice",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202401260957\" ExecutionStatus=\"1\">\r\n    <Errors errorMessage=\"S-au incarcat deja 1000 de mesaje de tip RASP pentru cui=1234 in cursul zile\"/>\r\n</header>"
                  },
                  "eroare tehnica": {
                    "summary": "eroare tehnica",
                    "description": "eroare tehnica",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202210121034\" ExecutionStatus=\"1\">\r\n    <Errors errorMessage=\"A aparut o eroare tehnica. Cod: XXX\"/>\r\n</header>"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Solicitare incorecta",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GeneralErrorMessage"
                },
                "examples": {
                  "nu ati atasat nimic in request body": {
                    "summary": "lipsa request body",
                    "description": "nu ati atasat nimic in request body",
                    "value": {
                      "timestamp": "05-08-2021 12:04:01",
                      "status": 400,
                      "error": "Bad Request",
                      "message": "Trebuie sa aveti atasat in request un fisier de tip xml"
                    }
                  },
                  "nu ati completat parametrul standard sau cif": {
                    "summary": "lipsa parametrii standard sau cif",
                    "description": "nu ati completat parametrul standard sau cif",
                    "value": {
                      "timestamp": "05-08-2021 12:04:01",
                      "status": 400,
                      "error": "Bad Request",
                      "message": "Parametrii standard si cif sunt obligatorii"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GeneralErrorMessage"
                }
              }
            }
          }
        }
      }
    },
    "/upload": {
      "post": {
        "tags": [
          "EFactura Upload"
        ],
        "operationId": "handleRequest",
        "parameters": [
          {
            "name": "standard",
            "in": "query",
            "description": "Specifica tipul xml-ului ce trebuie transmis. Valorile acceptate sunt UBL, CN, CII sau RASP",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "UBL"
          },
          {
            "name": "cif",
            "in": "query",
            "description": "Specifica CIF-ul la care va ajunge eroarea in cazul in care nu se poate identifica vanzatorul in XML-ul facturii",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": 8000000000
          },
          {
            "name": "extern",
            "in": "query",
            "description": "Folosit doar daca cumparatorul nu este din ROMANIA. Parametrul poate sa lipseasca, iar valoare acceptata este DA",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "DA"
          },
          {
            "name": "autofactura",
            "in": "query",
            "description": "Folosit doar daca se emite factura de catre beneficiar in numele furnizorului. Parametrul poate sa lipseasca, iar valoare acceptata este DA",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "DA"
          },
          {
            "name": "executare",
            "in": "query",
            "description": "Folosit de catre organul de executare pentru depunerea facturii in numele debitorului. Parametrul poate sa lipseasca, iar valoare acceptata este DA",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "DA"
          }
        ],
        "requestBody": {
          "description": "Trebuie atasat un fisier de tip xml",
          "content": {
            "*/*": {
              "schema": {
                "type": "string"
              },
              "examples": {
                "structura xml pentru UBL": {
                  "summary": "UBL",
                  "description": "structura xml pentru UBL",
                  "value": ""
                },
                "structura xml pentru CN": {
                  "summary": "CN",
                  "description": "structura xml pentru CN",
                  "value": ""
                },
                "structura xml pentru CII": {
                  "summary": "CII",
                  "description": "structura xml pentru CII",
                  "value": ""
                },
                "structura xml pentru RASP": {
                  "summary": "RASP",
                  "description": "structura xml pentru RASP",
                  "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:reqMesaj:v1\" index_incarcare=\"191823\" message=\"mesaj de test, standard RASP\"/>"
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Operatie realizata cu succes",
            "content": {
              "application/xml": {
                "schema": {
                  "$ref": "#/components/schemas/EfacturaXmlHeader"
                },
                "examples": {
                  "factura a fost incarcata cu succes": {
                    "summary": "depunere cu succes",
                    "description": "factura a fost incarcata cu succes",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202108051140\" ExecutionStatus=\"0\" index_incarcare=\"3828\"/>"
                  },
                  "nu a fost specificat un standard bun": {
                    "summary": "standard invalid",
                    "description": "nu a fost specificat un standard bun",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202108051144\" ExecutionStatus=\"1\">\r\n    <Errors errorMessage=\"Valorile acceptate pentru parametrul standard sunt UBL, CN, CII sau RASP\"/>\r\n</header>"
                  },
                  "marimea fisierului estre prea mare": {
                    "summary": "dimensiune fisier prea mare",
                    "description": "marimea fisierului estre prea mare",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202108051144\" ExecutionStatus=\"1\">\r\n    <Errors errorMessage=\"Marime fisier transmis mai mare de 10 MB.\"/>\r\n</header>"
                  },
                  "cif-ul trebuie sa fie numeric": {
                    "summary": "cif invalid",
                    "description": "cif-ul trebuie sa fie numeric",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202210121019\" ExecutionStatus=\"1\">\r\n    <Errors errorMessage=\"CIF introdus= 123a nu este un numar\"/>\r\n</header>"
                  },
                  "nu aveti dreptul de incarcare": {
                    "summary": "lispsa drepturi",
                    "description": "nu aveti dreptul de incarcare",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202210121036\" ExecutionStatus=\"1\">\r\n    <Errors errorMessage=\"Nu exista niciun CIF pentru care sa aveti drept in SPV\"/>\r\n</header>"
                  },
                  "nu aveti dreptul de incarcare pentru cif-ul specificat in request": {
                    "summary": "lispsa drepturi cif",
                    "description": "nu aveti dreptul de incarcare pentru cif-ul specificat in request",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202210121034\" ExecutionStatus=\"1\">\r\n    <Errors errorMessage=\"Nu aveti drept in SPV pentru CIF=1234\"/>\r\n</header>"
                  },
                  "fisierul transmis nu respecta structura UBL sau CII": {
                    "summary": "fisier transmis invalid",
                    "description": "fisierul transmis nu respecta structura UBL sau CII",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202108051144\" ExecutionStatus=\"1\">\r\n    <Errors errorMessage=\"Fisierul transmis nu este valid. org.xml.sax.SAXParseException; lineNumber: 15; columnNumber: 155; cvc-elt.1.a: Cannot find the declaration of element 'Invoice1'. \"/>\r\n</header>"
                  },
                  "parametrul extern este completat dar este invalid": {
                    "summary": "parametrul extern invalid",
                    "description": "parametrul extern este completat dar este invalid",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202407041615\" ExecutionStatus=\"1\">\r\n    <Errors errorMessage=\"Daca parametrul extern trebuie completat, valoarea acceptata este DA\"/>\r\n</header>"
                  },
                  "parametrul autofactura este completat dar este invalid": {
                    "summary": "parametrul autofactura invalid",
                    "description": "parametrul autofactura este completat dar este invalid",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202401260957\" ExecutionStatus=\"1\">\r\n    <Errors errorMessage=\"Daca parametrul autofacturare trebuie completat, valoarea acceptata este DA\"/>\r\n</header>"
                  },
                  "parametrul executare este completat dar este invalid": {
                    "summary": "parametrul executare invalid",
                    "description": "parametrul executare este completat dar este invalid",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202408041615\" ExecutionStatus=\"1\">\r\n    <Errors errorMessage=\"Daca parametrul executare trebuie completat, valoarea acceptata este DA\"/>\r\n</header>"
                  },
                  "parametrul executare este completat dar cif-ul nu este inregistrat in Registrul RO e-Factura executari silite": {
                    "summary": "parametrul executare=DA, cif nu apare in Registrul RO e-Factura executari silite",
                    "description": "parametrul executare este completat dar cif-ul nu este inregistrat in Registrul RO e-Factura executari silite",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202408071704\" ExecutionStatus=\"1\">\r\n    <Errors errorMessage=\"CIF introdus= 1234 nu este inregistrat in Registrul RO e-Factura executari silite\"/>\r\n</header>"
                  },
                  "a fost atinsa limita de apeluri zilnice": {
                    "summary": "limita apeluri zilnice atinsa",
                    "description": "a fost atinsa limita de apeluri zilnice",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202401260957\" ExecutionStatus=\"1\">\r\n    <Errors errorMessage=\"S-au incarcat deja 1000 de mesaje de tip RASP pentru cui=1234 in cursul zile\"/>\r\n</header>"
                  },
                  "eroare tehnica": {
                    "summary": "eroare tehnica",
                    "description": "eroare tehnica",
                    "value": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<header xmlns=\"mfp:anaf:dgti:spv:respUploadFisier:v1\" dateResponse=\"202210121034\" ExecutionStatus=\"1\">\r\n    <Errors errorMessage=\"A aparut o eroare tehnica. Cod: XXX\"/>\r\n</header>"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Solicitare incorecta",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GeneralErrorMessage"
                },
                "examples": {
                  "nu ati atasat nimic in request body": {
                    "summary": "lipsa request body",
                    "description": "nu ati atasat nimic in request body",
                    "value": {
                      "timestamp": "05-08-2021 12:04:01",
                      "status": 400,
                      "error": "Bad Request",
                      "message": "Trebuie sa aveti atasat in request un fisier de tip xml"
                    }
                  },
                  "nu ati completat parametrul standard sau cif": {
                    "summary": "lipsa parametrii standard sau cif",
                    "description": "nu ati completat parametrul standard sau cif",
                    "value": {
                      "timestamp": "05-08-2021 12:04:01",
                      "status": 400,
                      "error": "Bad Request",
                      "message": "Parametrii standard si cif sunt obligatorii"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GeneralErrorMessage"
                }
              }
            }
          }
        }
      }
    },
    "/transformare/{standard}": {
      "post": {
        "tags": [
          "EFacturaXmlToPdf"
        ],
        "summary": "Xml To Pdf",
        "operationId": "getPdf",
        "parameters": [
          {
            "name": "standard",
            "in": "path",
            "description": "Specifica tipul xml-ului ce trebuie transmis. Valorile acceptate sunt FACT1 si FCN.",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "FACT1"
          }
        ],
        "requestBody": {
          "description": "Continutul fisierul xml",
          "content": {
            "text/plain": {
              "schema": {
                "type": "string"
              },
              "examples": {
                "FACT1": {
                  "description": "structura xml pentru FACT1",
                  "value": ""
                },
                "FCN": {
                  "description": "structura xml pentru FCN",
                  "value": ""
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Response code 200",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                },
                "examples": {
                  "conversie cu succes": {
                    "description": "xml-ul a fost transformat in pdf",
                    "value": "fisierul Pdf"
                  }
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EfacturaResponseHeader"
                },
                "examples": {
                  "validare esuata": {
                    "description": "sunt erori in continutul xml-ului",
                    "value": {
                      "stare": "nok",
                      "Messages": [
                        {
                          "message": "E: validari globale  SCHEMATRON   eroare: [BR-CO-09]-The Seller VAT identifier (BT-31), the Seller tax representative VAT identifier (BT-63) and the Buyer VAT identifier (BT-48) shall have a prefix in accordance with ISO code ISO 3166-1 alpha-2 by which the country of issue may be identified. Nevertheless, Greece may use the prefix ‘EL’."
                        },
                        {
                          "message": "E: validari globale  SCHEMATRON   eroare: [BR-RO-110]-Daca Codul ţării vânzătorului (BT-40) este  RO , atunci Subdiviziunea ţării vânzătorului (BT-39) trebuie să fie codificată folosind lista de coduri ISO 3166-2:RO (ex.  RO-B  pentru Municipiul Bucuresti,  RO-AB  pentru judetul Alba...).     #If the Seller's country Code (BT-40) is  RO , then the Seller's country subdivision (BT-39) must be coded using the ISO 3166-2: RO code list (ex.  RO-B  for Bucharest,  RO-AB  for Alba County...)."
                        },
                        {
                          "message": "E: AccountingSupplierParty (1) sectiune Party (1) sectiune PartyTaxScheme (1) sectiune CompanyID (1)  eroare regula: R_BT_32_cui: Cui vanzator incorect / validare CUI (1234) "
                        }
                      ],
                      "trace_id": "2c9b28f2-be33-4d55-a6ac-f5f5fed01e67"
                    }
                  },
                  "standard invalid": {
                    "description": "nu a fost specificat un standard bun",
                    "value": {
                      "stare": "nok",
                      "Messages": [
                        {
                          "message": "Valorile acceptate pentru parametrul standard sunt FACT1 si FCN"
                        }
                      ],
                      "trace_id": "4506b709-92d1-4efe-b286-e652624ba2fb"
                    }
                  },
                  "dimensiune prea mare": {
                    "description": "dimensiunea fisierului incarcat nu trebuie sa depaseasca 5MB",
                    "value": {
                      "stare": "nok",
                      "Messages": [
                        {
                          "message": "Marime fisier transmis mai mare de 5 MB."
                        }
                      ],
                      "trace_id": "1ce79035-758e-4454-b811-d1c0a04aedc2"
                    }
                  },
                  "eroare tehica": {
                    "description": "din motive tehnice requestul nu a putut fi procesat",
                    "value": {
                      "stare": "nok",
                      "Messages": [
                        {
                          "message": "A aparut o eroare tehnica. Cod: XXX"
                        }
                      ],
                      "trace_id": "ee2f572d-5b0c-4975-89be-6b93e1e31bc0"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Response code 404",
            "content": {
              "application/json": {
                "examples": {
                  "request invalid": {
                    "description": "nu ati construit corect calea de context (lipsa variabila standard)",
                    "value": {
                      "timestamp": "2022-09-07T12:33:24.284+00:00",
                      "status": 404,
                      "error": "Not Found",
                      "path": "/FCTEL/rest/transformare/"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/transformare/{standard}/{novld}": {
      "post": {
        "tags": [
          "EFacturaXmlToPdf"
        ],
        "summary": "Xml To Pdf",
        "operationId": "getPdfNoVld",
        "parameters": [
          {
            "name": "standard",
            "in": "path",
            "description": "Specifica tipul xml-ului ce trebuie transmis. Valorile acceptate sunt FACT1 si FCN.",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "FACT1"
          },
          {
            "name": "novld",
            "in": "path",
            "description": "Daca este prezent si are valoare DA, xml-ul nu v-a fi validat. Valoarea acceptata este DA. Fara validare nu garantam corectitudinea informatiilor din pdf-ul generat",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "DA"
          }
        ],
        "requestBody": {
          "description": "Continutul fisierul xml",
          "content": {
            "text/plain": {
              "schema": {
                "type": "string"
              },
              "examples": {
                "FACT1": {
                  "description": "structura xml pentru FACT1",
                  "value": ""
                },
                "FCN": {
                  "description": "structura xml pentru FCN",
                  "value": ""
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Response code 200",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                },
                "examples": {
                  "conversie cu succes": {
                    "description": "xml-ul a fost transformat in pdf",
                    "value": "fisierul Pdf"
                  }
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EfacturaResponseHeader"
                },
                "examples": {
                  "validare esuata": {
                    "description": "sunt erori in continutul xml-ului",
                    "value": {
                      "stare": "nok",
                      "Messages": [
                        {
                          "message": "E: validari globale  SCHEMATRON   eroare: [BR-CO-09]-The Seller VAT identifier (BT-31), the Seller tax representative VAT identifier (BT-63) and the Buyer VAT identifier (BT-48) shall have a prefix in accordance with ISO code ISO 3166-1 alpha-2 by which the country of issue may be identified. Nevertheless, Greece may use the prefix ‘EL’."
                        },
                        {
                          "message": "E: validari globale  SCHEMATRON   eroare: [BR-RO-110]-Daca Codul ţării vânzătorului (BT-40) este  RO , atunci Subdiviziunea ţării vânzătorului (BT-39) trebuie să fie codificată folosind lista de coduri ISO 3166-2:RO (ex.  RO-B  pentru Municipiul Bucuresti,  RO-AB  pentru judetul Alba...).     #If the Seller's country Code (BT-40) is  RO , then the Seller's country subdivision (BT-39) must be coded using the ISO 3166-2: RO code list (ex.  RO-B  for Bucharest,  RO-AB  for Alba County...)."
                        },
                        {
                          "message": "E: AccountingSupplierParty (1) sectiune Party (1) sectiune PartyTaxScheme (1) sectiune CompanyID (1)  eroare regula: R_BT_32_cui: Cui vanzator incorect / validare CUI (1234) "
                        }
                      ],
                      "trace_id": "2c9b28f2-be33-4d55-a6ac-f5f5fed01e67"
                    }
                  },
                  "standard invalid": {
                    "description": "nu a fost specificat un standard bun",
                    "value": {
                      "stare": "nok",
                      "Messages": [
                        {
                          "message": "Valorile acceptate pentru parametrul standard sunt FACT1 si FCN"
                        }
                      ],
                      "trace_id": "4506b709-92d1-4efe-b286-e652624ba2fb"
                    }
                  },
                  "dimensiune prea mare": {
                    "description": "dimensiunea fisierului incarcat nu trebuie sa depaseasca 5MB",
                    "value": {
                      "stare": "nok",
                      "Messages": [
                        {
                          "message": "Marime fisier transmis mai mare de 5 MB."
                        }
                      ],
                      "trace_id": "1ce79035-758e-4454-b811-d1c0a04aedc2"
                    }
                  },
                  "eroare tehica": {
                    "description": "din motive tehnice requestul nu a putut fi procesat",
                    "value": {
                      "stare": "nok",
                      "Messages": [
                        {
                          "message": "A aparut o eroare tehnica. Cod: XXX"
                        }
                      ],
                      "trace_id": "ee2f572d-5b0c-4975-89be-6b93e1e31bc0"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Response code 404",
            "content": {
              "application/json": {
                "examples": {
                  "request invalid": {
                    "description": "nu ati construit corect calea de context (lipsa variabila standard)",
                    "value": {
                      "timestamp": "2022-09-07T12:33:24.284+00:00",
                      "status": 404,
                      "error": "Not Found",
                      "path": "/FCTEL/rest/transformare/"
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "GeneralErrorMessage": {
        "type": "object",
        "properties": {
          "timestamp": {
            "type": "string",
            "format": "date-time"
          },
          "status": {
            "type": "integer",
            "format": "int32"
          },
          "error": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "eroare": {
            "type": "string"
          },
          "titlu": {
            "type": "string"
          }
        }
      },
      "EfacturaJsonErrorMessage": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          }
        }
      },
      "EfacturaResponseHeader": {
        "required": [
          "stare",
          "trace_id"
        ],
        "type": "object",
        "properties": {
          "stare": {
            "type": "string"
          },
          "Messages": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EfacturaJsonErrorMessage"
            }
          },
          "trace_id": {
            "type": "string"
          }
        }
      },
      "EfacturaXmlErrorMessage": {
        "type": "object",
        "properties": {
          "errorMessage": {
            "type": "string",
            "xml": {
              "attribute": true
            }
          }
        }
      },
      "EfacturaXmlHeader": {
        "type": "object",
        "properties": {
          "errors": {
            "type": "array",
            "xml": {
              "name": "Errors"
            },
            "items": {
              "$ref": "#/components/schemas/EfacturaXmlErrorMessage"
            }
          },
          "stare": {
            "type": "string",
            "xml": {
              "attribute": true
            }
          },
          "idDescarcare": {
            "type": "string",
            "xml": {
              "name": "id_descarcare",
              "attribute": true
            }
          },
          "dateResponse": {
            "type": "string",
            "xml": {
              "attribute": true
            }
          },
          "executionStatus": {
            "type": "integer",
            "format": "int32",
            "xml": {
              "name": "ExecutionStatus",
              "attribute": true
            }
          },
          "indexIncarcare": {
            "type": "integer",
            "format": "int64",
            "xml": {
              "name": "index_incarcare",
              "attribute": true
            }
          }
        },
        "xml": {
          "name": "header"
        }
      },
      "EfacturaDetailedMessage": {
        "type": "object",
        "properties": {
          "data_creare": {
            "type": "string"
          },
          "cif": {
            "type": "string"
          },
          "id_solicitare": {
            "type": "string"
          },
          "detalii": {
            "type": "string"
          },
          "tip": {
            "type": "string"
          },
          "id": {
            "type": "string"
          }
        }
      }
    }
  }
}